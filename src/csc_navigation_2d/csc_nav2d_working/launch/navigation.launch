<?xml version="1.0"?>
<launch>

	<!-- Some general parameters -->
    <param name="use_sim_time" value="false" />

	<rosparam file="$(find csc_nav2d_working)/param/ros.yaml"/>

	<!-- Start the Operator to control the simulated robot -->
	<node name="Operator" pkg="csc_nav2d_operator" type="operator" >
		<remap from="scan" to="scan"/>
		<rosparam file="$(find csc_nav2d_working)/param/operator.yaml"/>
	</node>

	<!-- Start the Navigator to move the robot autonomously -->
    <node name="Navigator" pkg="csc_nav2d_navigator" type="navigator">
        <rosparam file="$(find csc_nav2d_working)/param/navigator.yaml"/>
        <rosparam file="$(find csc_nav2d_working)/param/costmap_common_params.yaml" command="load" ns="global_costmap" />
        <rosparam file="$(find csc_nav2d_working)/param/global_costmap_params_scan_rs.yaml" command="load" />
	</node>
	
    <node name="ObstaclesDetect" pkg="csc_nav2d_navigator" type="ObstaclesDetect"  >
        <param name="danger_range" value="0.5"/>
        <param name="region_radius" value="1.2"/>
    </node>

	<node name="SetGoal" pkg="csc_nav2d_navigator" type="set_goal_client" />

    <node name="udpSender" pkg="csc_nav2d_working" type="listener.py" output="screen"/>
    
    <!-- RVIZ to view the visualization -->
    <node name="RVIZ" pkg="rviz" type="rviz" args=" -d $(find csc_nav2d_working)/rviz/indoor_myCar.rviz" />

</launch>
